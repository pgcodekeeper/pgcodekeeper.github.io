<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Приручение строптивого</title>
  <meta name="description" content="Любите ли вы разрабатывать базы данных? Нет, не новомодные NoSQL, а старые добрые реляционные, где вы можете описывать отношения и хранимые процедуры для доступа к данным и логики...">
  <meta Name="keywords" content="PostgreSQL, DevOps, Continuous Delivery, psql, pg_dump, JDBC">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Open Graph data -->
  <meta property="fb:app_id" content="279889809024519">
  <meta property="og:url" content="http://pgcodekeeper.ru/the-article.html">
  <meta property="og:image" content="http://pgcodekeeper.ru/images/addoelephantpark.jpg">
  <meta property="og:site_name" content="pgCodeKeeper">
  <meta property="og:title" content="Приручение строптивого">
  <meta property="og:description" content="Любите ли вы разрабатывать базы данных? Нет, не новомодные NoSQL, а старые добрые реляционные, где вы можете описывать отношения и хранимые процедуры для доступа к данным и логики...">
  <!-- Schema.org markup for Google+ -->
  <meta itemprop="name" content="Приручение строптивого">
  <meta itemprop="description" content="Любите ли вы разрабатывать базы данных? Нет, не новомодные NoSQL, а старые добрые реляционные, где вы можете описывать отношения и хранимые процедуры для доступа к данным и логики...">
  <meta itemprop="image" content="http://pgcodekeeper.ru/images/addoelephantpark.jpg">
  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="http://pgcodekeeper.ru/the-article.html">
  <meta name="twitter:title" content="Приручение строптивого">
  <meta name="twitter:description" content="Любите ли вы разрабатывать базы данных? Нет, не новомодные NoSQL, а старые добрые реляционные, где вы можете описывать отношения и хранимые процедуры для доступа к данным и логики...">
  <meta name="twitter:image" content="http://pgcodekeeper.ru/images/addoelephantpark.jpg">
  <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
  <link href="https://fonts.googleapis.com/css?family=Poiret+One&subset=latin,cyrillic" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,800,600&subset=latin,cyrillic" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Condensed&subset=latin,cyrillic" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/main.min.css">
</head>
<body>
  <!--[if lt IE 7]>
  <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
  <![endif]-->

  <!-- header -->
  //= templates-ru/partials/header.html
  <!-- /header -->

  <div id="blog-image">
    <div class="container custom">
      <img class="media-object" src="/images/addoelephantpark.jpg" alt="elephants">
    </div>
  </div>

  <div  class="container custom">
    <div id="the-article">
      <p class="article-name">Приручение строптивого</p>
      <p class="article-author">Андрей Саушкин</p>
      <p class="article-date">1 февраля, 2016</p>
      <p>Любите ли вы разрабатывать базы данных? Нет, не новомодные NoSQL, а старые добрые реляционные, где вы можете
        описывать отношения и хранимые процедуры для доступа к данным и логики. Может быть, вы разрабатываете базы
        данных для PostgreSQL? Если да, то отлично — этот пост определённо для вас.</p>
      <p>Описывать преимущества <a href="http://www.postgresql.org/">PostgreSQL</a>, пожалуй, смысла нет. Скажу лишь в
        двух словах, что это современная быстрая СУБД с богатыми возможностями, вполне способная конкурировать с
        коммерческими системами управления базами данных. То, что PostgreSQL распространяется под
        <a href="http://www.postgresql.org/about/licence/">свободной лицензией</a>, схожей с лицензией BSD (что
        позволяет использовать её без лицензионных отчислений в коммерческих проектах и открывает полный доступ к
        исходному коду без необходимости открывать свой в случае внесения изменений), и активно развивается в
        настоящее время (совсем недавно, в январе 2016 года вышла версия 9.5 с некоторыми крайне
        <a href="http://www.postgresql.org/docs/9.5/static/release-9-5.html">приятными улучшениями</a>), позволяет
        утверждать, что PostgreSQL мог бы являться одной из лучших СУБД на сегодняшний день. Но что же мешает
        завоевать популярность в среде разработчиков PostgreSQL?</p>
      <p>
          <a href="http://db-engines.com/en/ranking_trend">
            <img class="content-image"
                 src="https://habrastorage.org/files/0fe/fdc/1f7/0fefdc1f71084302a397e9e966c347a7.png"
                 alt="Рейтинг RDBMS" title="Рисунок с http://db-engines.com/en/ranking_trend">
          </a>
      </p>
      <p>Одним из таких факторов является достаточно небольшое количество инструментов как для разработки баз данных,
        так и для дальнейшего сопровождения. Разумеется, для PostgreSQL есть JDBC драйвера, и с ним работают все те
        инструменты, которые используют JDBC, но эти инструменты, как правило, универсальны, и не всегда могут
        использовать особенности конкретной СУБД.</p>
      <p>О каких особенностях разработки идёт речь? Например, достаточно часто, когда вы модифицируете существующие
        объекты БД (как правило, таблицы или представления), вы можете столкнуться с ошибкой изменения объекта,
        поскольку это запрещено PostgreSQL, так как имеются зависимые объекты.</p>

        <pre><code class="sql">  ags=# create table t1 (f1 text);
  CREATE TABLE
  ags=# create view v1 as select * from t1;
  CREATE VIEW
  ags=# alter table t1 alter column f1 type char(5);
  ERROR:  cannot alter type of a column used by a view or rule
  ПОДРОБНОСТИ:  rule _RETURN on view v1 depends on column "f1"</code></pre>

        <p>Подобная особенность уже надоела многим разработчикам, зафиксирована в TODO
          <a href="https://wiki.postgresql.org/wiki/Todo#Views_and_Rules">wiki.postgresql.org/wiki/Todo#Views_and_Rules</a>
          и имеет некоторые возможные варианты решения (например:
          <a href="http://mwenus.blogspot.nl/2014/04/postgresql-how-to-handle-table-and-view.html">mwenus.blogspot.nl/2014/04/postgresql-how-to-handle-table-and-view.html</a>).
        </p>

        <br>

        <p>Или вот ещё пример. Не случалось ли с вами подобного: вы создали хранимую процедуру, начали активно
          использовать её, и через какое-то время, как это обычно бывает, захотели модифицировать. И лишь когда начнете
          разбираться с тем, почему логика частично работает, а частично нет, замечаете, что фактически вы создали
          дополнительную процедуру с новой сигнатурой (которую и использует часть кода), другая же часть кода использует
          случайно оставленную по недосмотру старую процедуру?
        </p>

        <pre><code class="sql">  ags=# \df f1
                               Список функций
   Схема  | Имя | Тип данных результата | Типы данных аргументов |   Тип
  --------+-----+-----------------------+------------------------+---------
   public | f1  | void                  |                        | обычная
   public | f1  | void                  | p1 integer             | обычная
  (2 строки)</code></pre>

        <p>Столкнуться с подобной ситуацией очень просто, и этому способствует, на мой взгляд, отсутствие группирующих
          объектов наподобие пакетов Oracle, которые логически объединяют хранимые процедуры и накатываются на базу
          обычно одним пакетом, что исключает появление “забытых” объектов. Да, разумеется, если вы тестируете ваш код,
          то вероятность попадания подобных объектов в бой невелика, однако, такое поведение увеличивает сложность
          сопровождения.</p>
        <p>Что делать, если вы хотите сравнить две БД и сформировать скрипт преобразования одной в другую? Скорее всего,
          вы захотите воспользоваться <a href="http://www.liquibase.org/">Liquibase</a>, однако, будете неприятно
          огорчены, когда узнаете, что Liquibase ничего не знает про способы решения возникающих проблем с
          зависимостями, о которых я упомянул чуть раньше.</p>
        <p>С подобными вопросами столкнулись и мы, когда примерно три года назад начали процесс миграции с
          <a href="http://www.microsoft.com/ru-ru/server-cloud/products/sql-server/">MSSQL</a> на PostgreSQL. В то время
          мы использовали
          <a href="https://www.red-gate.com/products/sql-development/sql-source-control/">Redgate SQL Source Control</a>
          для работы с MSSQL и были ужасно раздосадованы отсутствием подобного инструмента для работы с PostgreSQL.
          Раздосадованы настолько, что приняли решение о создании собственного инструмента, способного
          отслеживать изменения в БД и создавать скрипты миграций выбранных объектов как в интерактивном, так и
          автоматическом режиме.
        </p>
        <p>Поскольку мы программируем большей частью на Java, то решение о выборе платформы разработки пришло достаточно
          быстро. Приложение стало развиваться, спустя несколько итераций проб и ошибок, как набор дополнений
          Eclipse.</p>
        <p class="emphasis-sentence">Именно так через какое-то время появился на свет наш продукт — <span class="product-name">pgCodeKeeper</span></p>
        <p>Если вкратце, то его работу можно описать следующим образом: объекты БД сохраняются на диск в виде проекта
          Eclipse, который в дальнейшем может (по желанию) быть помещен в систему хранения версий. Сравнив в дальнейшем
          БД с проектом или какой-либо из ветвей проекта, можно сформировать как скрипт миграции из БД (для переноса
          состояний объектов из проекта в БД), так и в обратном направлении. А в связи с тем, что для разбора объектов
          мы используем собственные грамматики <a href="http://www.antlr.org/">ANTLR</a>, это позволяет нам строить
          достаточно хорошо проработанные графы зависимостей объектов, что приводит к созданию корректных скриптов
          миграции (с учетом существующих проблем с зависимостями, которые были озвучены мной выше).</p>
        <p>Использование pgCodeKeeper может помочь выстроить
          <a href="#" data-toggle="tooltip" data-placement="top" title="workflow">рабочий процесс</a>
          внесения изменений в БД. У себя мы успешно используем следующую схему:</p>

        <br>

        <ol>
          <li>Разработчик вносит изменения в девелоперскую БД (при этом не задумываясь о создании скрипта миграции,
            который будет необходим при накате на боевую БД). Кстати, девелоперская БД может быть одна, разделённая
            между несколькими разработчиками. При применении изменений pgCodeKeeper позволяет переносить только
            выбранные объекты.<br>
          </li>
          <li>Изменения (если необходимо, то изменения только части объектов), внесённые разработчиком при помощи
            pgCodeKeeper, переносятся в девелоперскую ветку проекта и создаётся
            <a href="#" data-toggle="tooltip" data-placement="top" title="merge request">запрос на объединение</a>
            с основной веткой.<br>
          </li>
          <li>Запрос на объединение проверяется и принимается ответственным лицом.<br></li>
          <li>После принятия запроса на объединение pgCodeKeeper формирует скрипт миграции (при этом предупреждает, если
            в скрипте формируются инструкции, которые могут привести к потере данных) из основной ветки в боевую БД.<br>
          </li>
          <li>Созданный скрипт накатывается на боевую БД.<br></li>
        </ol>

        <br>

        <p>Первые два пункта выполняются разработчиком, третий выполняется инспектором, четвёртый и пятый может быть
          выполнен лицом,сопровождающим БД. Четвёртый и пятый пункты могут быть также выполнены в автоматическом режиме,
          и это может быть очень удобно для построения
          <a href="#" data-toggle="tooltip" data-placement="top" title="Continuous Delivery">процессов непрерывной доставки</a>,
          но в рамках текущей статьи об этом говорить не будем.</p>
        <p>В описанном рабочем процессе не все действия выполняется через pgCodeKeeper. Например, создание новой ветки в
          системе контроля версий выполняется дополнением <a href="http://www.eclipse.org/egit/">EGit</a> для Eclipse. В
          то время как
          <a href="#" data-toggle="tooltip" data-placement="top" title="merge request code review">проверку запроса на объединение кода</a>
          мы выполняем, используя возможности <a href="https://about.gitlab.com/">GitLab</a>.
        </p>
        <p class="emphasis-sentence">То есть, основная цель pgCodeKeeper — это сравнение предварительно созданного
          проекта с экземпляром базы данных, определение модифицированных объектов и применение изменений или в проект
          из БД (модификация файлов проекта), или в БД из проекта (через создание скрипта миграции).</p>
        <p>Прошло время, начатый проект успешно развивался, и в определённый момент не осталось сомнений, что с текущими
          требованиями по сопровождению наших внутренних БД pgCodeKeeper справляется превосходно, однако
          <a href="#" data-toggle="tooltip" data-placement="top" title="product backlog">бэклог продукта</a>
          отнюдь не пуст. А заполнен он теми фичами или ошибками, которые потенциально могут встречаться
          в базах данных других разработчиков. Стало понятно, что pgCodeKeeper или останется в рамках корпоративного
          проекта (и, возможно, перейдет в стадию стагнации, так как выполнены практически все затребованные фичи), или
          попытается выйти на публичный рынок и с помощью обратной связи получить ответы на следующие вопросы:</p>

        <br>

        <ol>
          <li>Востребован ли продукт на текущий момент на рынке программного обеспечения?<br></li>
          <li>Если востребован, то какая модель распространения/лицензирования продукта может быть наиболее интересна
            как нам, так и рынку?<br></li>
        </ol>

        <br>

        <p>Сейчас мы готовы выпустить pgCodeKeeper в публичное бета-тестирование с единственным условием использования —
          предоставление фидбека. Есть ли желающие попробовать продукт в работе?</p>

        <h3>Пробуем в деле</h3>
        <p>Итак, я надеюсь, что если вы дочитали до этого момента, то уже достаточно заинтересованы, чтобы попробовать
          работу pgCodeKeeper в деле. Готовы? Приступаем.</p>
        <p>Как я уже писал ранее, pgCodeKeeper в конце своего эволюционного пути стал представлять из себя набор
          дополнений для платформы Eclipse. А это значит, что с многоплатформенностью у него всё отлично, и работает он
          как под Linux, так и под Windows. Естественно, будет работать и под другими платформами, на которых может быть
          запущена платформа Eclipse, но мы используем только эти две.</p>
        <p>Для корректной работы pgCodeKeeper требуется платформа Eclipse версии Juno или выше, впрочем, это замечание
          относится к тем, кто хочет установить в существующий экземпляр Eclipse. Для новых инсталляций Eclipse берите
          последнюю версию с сайта <a href="https://eclipse.org/downloads/">eclipse.org/downloads</a>. Вы можете
          установить Eclipse IDE for Java Developers (так как в ней, помимо всего прочего, уже установлены дополнения
          для интеграции с Git и, она имеет относительно небольшой размер), или же выбрать любой инструмент, который
          понравится вам (не забудьте: Eclipse — это Java приложение, и для его работы вы должны предварительно
          установить JRE/JDK).</p>

        <a href="https://eclipse.org/downloads/">
          <img class="content-image"
               src="https://habrastorage.org/files/524/65c/d0b/52465cd0b70b4b6a9088fd91297e8bc2.png"
               alt="Сайт Eclipse.org" title="Рисунок http://www.eclipse.org/downloads/">
        </a>

        <p>Выбираем пункты меню Help — Install new software и вводим URL сайта обновлений:
          <a href="http://pgcodekeeper.ru/update/release/">pgcodekeeper.ru/update/release</a></p>
        <p>Выбираем и устанавливаем дополнение pgCodeKeeper. Перезагружаем Eclipse и, если в списке визардов новых
          проектов видим проект pgCodeKeeper, то считаем миссию по установке завершённой.</p>
        <p>Работа pgCodeKeeper сводится к сравнению объектов в проекте и БД, на момент создания проекта у вас уже должна
          быть БД, с которой вы хотите сделать начальный “слепок” проекта. Давайте создадим базу и попробуем пройтись по
          процессу разработки БД.</p>

        <details>
          <summary>Скрипт формирования БД</summary>
          <pre><code class="sql">  $ psql -X &lt;&lt;SQL
  create database dev;
  \c dev

  create table t1 (f1 text);
  create view v1 as select * from t1;
  create view v2 as select * from v1;
  create function f1(p1 int) returns v2 as 'select * from v2 limit 1' language sql;
  SQL

  CREATE DATABASE
  Вы подключены к базе данных "dev" как пользователь "ags".
  CREATE TABLE
  CREATE VIEW
  CREATE VIEW
  CREATE FUNCTION

  $ psql dev
  psql (9.4.5, сервер 9.3.10)
  Введите "help", чтобы получить справку.

  (ags@10.84.0.6:5432) 15:11:08 [dev]  =# \d \df
               Список отношений
  ┌────────┬─────┬───────────────┬──────────┐
  │ Схема  │ Имя │      Тип      │ Владелец │
  ├────────┼─────┼───────────────┼──────────┤
  │ public │ t1  │ таблица       │ ags      │
  │ public │ v1  │ представление │ ags      │
  │ public │ v2  │ представление │ ags      │
  └────────┴─────┴───────────────┴──────────┘
  (3 строки)

                                Список функций
  ┌────────┬─────┬───────────────────────┬────────────────────────┬─────────┐
  │ Схема  │ Имя │ Тип данных результата │ Типы данных аргументов │   Тип   │
  ├────────┼─────┼───────────────────────┼────────────────────────┼─────────┤
  │ public │ f1  │ v2                    │ p1 integer             │ обычная │
  └────────┴─────┴───────────────────────┴────────────────────────┴─────────┘
  (1 строка)</code></pre>
        </details>

      <p>Ну что же, у нас есть база данных, пришло время поразвлечься и написать немного кода. Изменим таблицу t1:</p>

      <pre><code>  (ags@10.84.0.6:5432) 15:12:28 [dev]  =# alter table t1 alter column f1 type char(5);
ERROR:  cannot alter type of a column used by a view or rule
ПОДРОБНОСТИ:  rule _RETURN on view v1 depends on column "f1"
Время: 2,393 мс</code></pre>

      <p>Вполне ожидаемо — мы не можем выполнить запрашиваемое действие, так как от таблицы t1 зависит представление
        v1. Более того, для того, чтобы удалить v1, нам придется удалить и v2 и f1</p>

        <pre><code>  (ags@10.84.0.6:5432) 15:16:05 [dev] * =# drop view v1;
  ERROR:  cannot drop view v1 because other objects depend on it
  ПОДРОБНОСТИ:  view v2 depends on view v1
  function f1(integer) depends on type v2
  ПОДСКАЗКА:  Use DROP ... CASCADE to drop the dependent objects too.
  Время: 1,631 мс</code></pre>

      <p>Да… похоже, мы в небольшой западне, теперь придётся прибегать или к помощи чудо-скриптов (например, подобных
        тому, о котором я писал выше… правда, они работают далеко не со всеми объектами, которые могут попасть в граф
        зависимостей), или воспользоваться pgCodeKeeper (есть ещё вариант удалить представление и зависимые объекты
        каскадно и восстановить потом потерянные объекты из предварительно сохраненного дампа, но мы не будем
        пользоваться такой “возможностью”).</p>
      <p>Самое время создать проект для сопровождения БД.</p>
      <img class="content-image" src="https://habrastorage.org/files/498/3b3/2a8/4983b32a8bcc464fb1becbbcc3d515ed.png" alt="image">
      <p>Вводим имя нового проекта:</p>
      <img class="content-image" src="https://habrastorage.org/files/d56/8d2/806/d568d2806b824dcc8dd6bb0b8b770a96.png" alt="image">
      <p>Настраиваем источник для БД (да, вы можете столкнуться с чуть неочевидным моментом добавления нового
        источника, но будьте терпеливы, мы обязательно это улучшим в будущем). Я лично пароли обычно храню в .pgpass и
        pgCodeKeeper умеет брать их из него, но если вы не пользуетесь, то заполните поле пароля в визарде.</p>
      <img class="content-image" src="https://habrastorage.org/files/455/04d/b87/45504db87d784901aed83a98a472da3b.png" alt="image">
      <p>Создание проекта завершено, нажимайте кнопку “Finish”. Если вы все сделали правильно, то будет
        инициализирован и заполнен объектами БД новый проект.</p>
      <img class="content-image image-small" src="https://habrastorage.org/files/b49/4be/d9b/b494bed9b6194fb795e639994f95786c.png" alt="image">
      <p>Объект БД в проекте — это удобочитаемый файл, который, в том числе, можно и отредактировать.</p>
      <img class="content-image image-small" src="https://habrastorage.org/files/a74/7d3/f6b/a747d3f6b8ab42e7b0cd0b0fec53104f.png" alt="image">
      <p>На текущий момент pgCodeKeeper не позиционируется как полноценный редактор SQL или PL/pgSQL кода, но порой —
        как, например, в данном случае, — нет ничего лучше, чем отредактировать файл непосредственно в редакторе.
        Давайте изменим тип единственного поля с text на char(5).</p>
      <img class="content-image image-small" src="https://habrastorage.org/files/474/d05/cba/474d05cbaf4a4d30a82bf71e0787a967.png" alt="image">
      <p>Перейдём на основную панель проекта (нижний таб — “Обновить БД”) и нажмём кнопку “Получить изменения”.
        pgCodeKeeper отобразил список объектов, которые отличаются как в БД, так и в проекте. Diff панель показывает
        детальные изменения в объектах БД.</p>
      <img class="content-image" src="https://habrastorage.org/files/194/e93/3ea/194e933eafec4fb1bdd75e1619f7180c.png" alt="image">
      <p>Ну а теперь осталась самая малость, поставим галочку на объектах БД, которые мы хотим синхронизировать с
        объектами проекта и нажмем кнопку “Сгенерировать скрипт”. pgCodeKeeper услужливо сообщит о том, что
        сгенерированный скрипт содержит опасные инструкции, которые могут привести к потере данных и сформирует
        следующий скрипт:</p>

      <details>
        <summary>Скрипт миграции сформированный pgCodeKeeper</summary>
        <pre><code class="sql">  SET TIMEZONE TO 'UTC';

  SET check_function_bodies = false;

  -- DEPCY: This FUNCTION depends on the COLUMN: t1.f1

  DROP FUNCTION f1(p1 integer);

  -- DEPCY: This VIEW depends on the COLUMN: t1.f1

  DROP VIEW v2;

  -- DEPCY: This VIEW depends on the COLUMN: t1.f1

  DROP VIEW v1;

  ALTER TABLE t1
  ALTER COLUMN f1 TYPE char(5); /* ТИП колонки изменился - Таблица: t1 оригинал: text  новый: char(5) */

  -- DEPCY: This VIEW is a dependency of FUNCTION: f1(integer)

  CREATE VIEW v1 AS
  SELECT t1.f1
  FROM t1;

  ALTER VIEW v1 OWNER TO ags;

  -- DEPCY: This VIEW is a dependency of FUNCTION: f1(integer)

  CREATE VIEW v2 AS
  SELECT v1.f1
  FROM v1;

  ALTER VIEW v2 OWNER TO ags;

  CREATE OR REPLACE FUNCTION f1(p1 integer) RETURNS v2
  LANGUAGE sql
  AS $$select * from v2 limit 1$$;

  ALTER FUNCTION f1(p1 integer) OWNER TO ags;</code></pre>
        </details>

      <p>Ура!!! Пара кликов мышкой (если не считать инициализации проекта), и мы можем формировать скрипты миграции!
        Полученный скрипт можно накатить как самостоятельно через pgAdmin/psql, так и через pgCodeKeeper. Поскольку в
        PostgreSQL инструкции DDL транзакционны, то я при накате подобных скриптов указываю о необходимости выполнения
        скрипта в одной транзакции (ключик -1 в psql), чтобы не допустить возникновения неконсистентного состояния БД,
        в случае, если возникнет ошибка во время выполнения скрипта.</p>
      <p>Если сейчас повторно выполнить сравнение проекта и БД, то мы увидим, что объекты в проекте и БД…
        Отличаются?! </p>
      <p>Без паники, это связано с тем, что, когда мы вносили изменения в проект руками, мы указали сокращенную форму
        типа character как char, в БД же он теперь отображается именно в полной форме.</p>
      <img class="content-image" src="https://habrastorage.org/files/24a/cd5/452/24acd545227442f3a85bb9e8aee26628.png" alt="image">
      <p>Чтобы выполнить обновление проекта, переключитесь на нижний таб “Обновить проект”, нажмите “Получить
        изменения”, выберите нужные объекты и нажмите на кнопку “Применить выбранные изменения”. После выполнения этих
        действий объекты БД и проекта станут идентичными.</p>

      <h3>Известные особенности продукта</h3>
      <p>Поскольку продукт изначально разрабатывался под внутренние БД, то в первую очередь тестировались только те
        типы объектов, которые используем мы, некоторые пока не поддерживаются (например, FOREIGN TABLE). pgCodeKeeper
        поддерживает работу не со всеми версиями PostgreSQL, на текущий момент гарантируется работа для версий 9.3 и
        выше (нужно проверить — возможно, что будет работать и с 9.1-9.2, но не более ранними).</p>

      <h3>Заключение</h3>
      <p>Сегодня вы познакомились с новым продуктом, облегчающим работу с PostgreSQL, я рассказал об основных
        возможностях продукта, не затронув такие темы, как: ручное добавление зависимостей (если наш парсер не
        справился, то всегда можно подсказать ему), работа с системами контроля версий, работа pgCodeKeeper в
        автоматическом, неинтерактивном режиме.</p>
      <p>В статье не обошлось без неологизмов, жаргонизмов или несколько устаревших оборотов речи, во всех случаях я
        указывал значение слова или выражения, наиболее точно определяющее его на английском языке.</p>
      <p>На текущий момент pgCodeKeeper проходит процесс регистрации в реестре отечественного ПО согласно
        Постановления Правительства РФ от 16 ноября 2015 г. N 1236 «Об установлении запрета на допуск программного
        обеспечения, происходящего из иностранных государств, для целей осуществления закупок для обеспечения
        государственных и муниципальных нужд» <a href="http://www.garant.ru/hotlaw/federal/671898/">www.garant.ru/hotlaw/federal/671898</a>
        и это значит, что в ближайшем будущем pgCodeKeeper сможет участвовать в программе импортозамещения.</p>
      <p>Использование pgCodeKeeper значительно облегчает сопровождение баз данных PostgreSQL (был даже замечен эффект
        привыкания).</p>
      <p>Насколько интересным показался вам pgCodeKeeper?</p>
    </div>

    <div id="disqus_thread"></div>

    <script>
      (function() {
        var d = document, s = d.createElement('script');
        s.src = 'https://pgcodekeeper.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>

    <noscript>
      Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
  </div>

  <div class="go-up" title="Вверх" id='ToTop'><span class="glyphicon glyphicon-circle-arrow-up"></span></div>
  <div class="go-down" title="Вниз" id='OnBottom'><span class="glyphicon glyphicon-circle-arrow-down"></span></div>

  <!-- footer -->
  //= templates-ru/partials/footer.html
  <!-- /footer -->

  <script id="dsq-count-scr" src="https://pgcodekeeper.disqus.com/count.js" async></script>
  <script>hljs.initHighlightingOnLoad()</script>
</body>
</html>
